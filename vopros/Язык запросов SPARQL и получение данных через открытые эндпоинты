SPARQL – специализированный язык запросов для выборки и манипулирования данными из RDF-графов. Название расшифровывается рекурсивно как SPARQL Protocol and RDF Query Language.
Он во многом аналогичен SQL (Structured Query Language) для реляционных баз, но оперирует не таблицами, а графами триплетов.
С помощью SPARQL можно извлекать информацию из семантических баз знаний, задавая условия на субъекты, предикаты и объекты искомых триплетов.
Язык поддерживает мощные возможности: фильтрацию по значениям, объединение данных из разных графов, агрегатные функции (счетчики, суммы), сортировку, лимитирование и т.д.
Конструкция запроса SPARQL: Простейший запрос имеет форму:
SELECT ?s ?p ?o
WHERE {
  ?s ?p ?o .
}
Этот запрос вернет все триплеты (?s, ?p, ?o – переменные для субъекта, предиката, объекта) из графа – аналог SELECT * в SQL. Однако обычно нас интересует конкретная информация, поэтому в блоке WHERE указываются шаблоны триплетов. Например, запрос:
SELECT ?capital ?population
WHERE {
  ?capital rdf:type dbo:City ;
           dbo:country dbr:France ;
           dbo:populationTotal ?population .
}
ORDER BY DESC(?population)
LIMIT 10
Этот запрос на DBpedia найдет все ресурсы ?capital, которые являются городами (rdf:type dbo:City) и страной которых является Франция (dbo:country dbr:France), и получит их население. Результат будет упорядочен по убыванию населения и ограничен 10 строками – то есть мы получим 10
самых населенных городов Франции с их численностью. Пример демонстрирует связку условий через ; (несколько условий на один и тот же субъект ?capital) и фильтрацию через конкретный ресурс dbr:France (ресурс DBpedia для Франции).
SPARQL позволяет задавать сложные запросы с несколькими связанными шаблонами – фактически выполняя графовые соединения.
Открытые SPARQL-эндпоинты: Многие крупные открытые базы знаний предоставляют публичный SPARQL endpoint – точку доступа, куда можно отправлять SPARQL-запросы и получать результаты. DBpedia, Wikidata, Europeana, Geonames, FDA Drug Data – это лишь несколько примеров.
Эндпоинт обычно доступен по URL (например, для DBpedia: https://dbpedia.org/sparql, для Wikidata: https://query.wikidata.org/sparql). Существуют и агрегаторы, типа LOD Laundromat или YASGUI, позволяющие отправлять запросы к разным источникам.
Использование открытых данных через SPARQL: Преимущество SPARQL-эндпоинтов в том, что они позволяют выполнять произвольные запросы к базе знаний, не загружая целиком все данные. Например, если нужно получить список всех фильмов определенного режиссера, можно спросить DBpedia:
SELECT ?film
WHERE {
  ?film rdf:type dbo:Film ;
        dbo:director dbr:Christopher_Nolan .
}
Результатом будут URI фильмов, снятых Кристофером Ноланом, хранящиеся в DBpedia. Аналогичный запрос к Wikidata потребовал бы оперировать ее свойствами.
